{% extends 'index.html' %}
 
{% block container %}
<div class="results-card">
    <h3 class="results-card-header"><a href="/signs/{{sign.borger_id}}">{{sign.borger_name}}</a></h3>
      <div class="results-card-sign">
        <span class="cuneiform">{{sign.unicode_value}}</span>
      </div>
    <div class="results-card-values">
      {% for value in sign.values %}
        <span class="value">
          {{value}}
        </span>
      {% endfor %}
    </div><!-- results-card-values -->
    <div class="results-card-list-ids">
      <span class="signlist-id-badge">Borger: {{sign.borger_id}}</span>
      <span class="signlist-id-badge">Labat: {{sign.labat_id}}</span>
      <span class="signlist-id-badge">Huehnergard: {{sign.huehnergard_id}}</span>
      <span class="signlist-id-badge">Deimel: {{sign.deimel_id}}</span>
      <span class="signlist-id-badge">Mittermayer: {{sign.mittermayer_id}}</span>
      <span class="signlist-id-badge">Heth ZL: {{sign.hethzl_id}}</span>
    </div>
  </div>
  <div class="stats">
    <h2 class="title">Distribution by Corpus</h2>
    <div class="stats-row">
      <div class="stats-section">
        <h3 class="title">Old Bablylonian</h3>
        <table>
          <thead>
            <tr>
              <th>Sign Value</th>
              <th>Freq.</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for ob in stats['ob'] %}
            {% set pct = (ob.freq / stats['totals']['ob'] * 100) |round|int %}
            <tr>
              <td>{{ob.value}}</td>
              <td>{{ob.freq}}</td>
              <td>
                <span class="chart-bar" style="width:{{(pct * 0.75)|round|int}}%">&nbsp;</span>
                <span class="chart-bar-pct">{{pct|round|int}}</span>
              </td>
            </tr>
            {% endfor %}
          </tbody>
          <tfoot>
              <tr>
                <td>Total</td>
                <td>{{stats['totals']['ob']}}</td>
                <td></td>
              </tr>
            </tfoot>
        </table>
      </div>
      <div class="stats-section">
        <h3 class="title">Neo-Bablylonian</h3>
        <table>
          <thead>
            <tr>
              <th>Sign Value</th>
              <th>Freq.</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for nb in stats['nb'] %}
            {% set pct = (nb.freq / stats['totals']['nb'] * 100) |round|int %}
            <tr>
              <td>{{nb.value}}</td>
              <td>{{nb.freq}}</td>
              <td>
                <span class="chart-bar" style="width:{{(pct * 0.75)|round|int}}%">&nbsp;</span>
                <span class="chart-bar-pct">{{pct|round|int}}</span>
              </td>
            </tr>
            {% endfor %}
          </tbody>
          <tfoot>
              <tr>
                <td>Total</td>
                <td>{{stats['totals']['nb']}}</td>
                <td></td>
              </tr>
            </tfoot>
        </table>
      </div>
    </div>
    <div class="stats-row">
      <div class="stats-section">
        <h3 class="title">Neo-Assyrian</h3>
        <table>
          <thead>
            <tr>
              <th>Sign Value</th>
              <th>Freq.</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for na in stats['na'] %}
            {% set pct = (na.freq / stats['totals']['na'] * 100) |round|int %}
            <tr>
              <td>{{na.value}}</td>
              <td>{{na.freq}}</td>
              <td>
                <span class="chart-bar" style="width:{{(pct * 0.75)|round|int}}%">&nbsp;</span>
                <span class="chart-bar-pct">{{pct|round|int}}</span>
              </td>
            </tr>
            {% endfor %}
          </tbody>
          <tfoot>
              <tr>
                <td>Total</td>
                <td>{{stats['totals']['na']}}</td>
                <td></td>
              </tr>
            </tfoot>
        </table>
      </div>
      <div class="stats-section">
        <h3 class="title">Ebla</h3>
        <table>
          <thead>
            <tr>
              <th>Sign Value</th>
              <th>Freq.</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for ebla in stats['ebla'] %}
            {% set pct = (ebla.freq / stats['totals']['ebla'] * 100) |round|int %}
            <tr>
              <td>{{ebla.value}}</td>
              <td>{{ebla.freq}}</td>
              <td>
                <span class="chart-bar" style="width:{{(pct * 0.75)|round|int}}%">&nbsp;</span>
                <span class="chart-bar-pct">{{pct|round|int}}</span>
              </td>
            </tr>
            {% endfor %}
          </tbody>
          <tfoot>
            <tr>
              <td>Total</td>
              <td>{{stats['totals']['ebla']}}</td>
              <td></td>
            </tr>
          </tfoot>
        </table>
      </div>
            <div class="stats-section">
        <h3 class="title">Old Akkadian</h3>
        <table>
          <thead>
            <tr>
              <th>Sign Value</th>
              <th>Freq.</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for oakk in stats['oakk'] %}
            {% set pct = (oakk.freq / stats['totals']['oakk'] * 100) |round|int %}
            <tr>
              <td>{{oakk.value}}</td>
              <td>{{oakk.freq}}</td>
              <td>
                <span class="chart-bar" style="width:{{(pct * 0.75)|round|int}}%">&nbsp;</span>
                <span class="chart-bar-pct">{{pct|round|int}}</span>
              </td>
            </tr>
            {% endfor %}
          </tbody>
          <tfoot>
            <tr>
              <td>Total</td>
              <td>{{stats['totals']['oakk']}}</td>
              <td></td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>
{% endblock %}